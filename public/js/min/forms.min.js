var test=function(){console.log("test ran!")};$(function(){$.get("/reliefRequests",function(t){console.log(t);for(var e=0;e<t.length;e++){var s=t[e].requestType;if("water"===s){var a=$('<tr><td><input type="checkbox" class="water-request-checkbox cbox"></td><td class="qNeeded">'+t[e].quantityRequested+'</td><td class="reqC">'+t[e].requestComments+"</td><td>"+t[e].fName+" "+t[e].lName+"</td><td>"+t[e].orgName+"</td><td>"+t[e].phone+"</td></tr>");$(".water-table").append(a)}if("meals"===s){var o=$('<tr><td><input type="checkbox" class="meals-request-checkbox cbox"></td><td class="qNeeded">'+t[e].quantityRequested+'</td><td class="reqC">'+t[e].requestComments+"</td><td>"+t[e].fName+" "+t[e].lName+"</td><td>"+t[e].orgName+"</td><td>"+t[e].phone+"</td></tr>");$(".meals-table").append(o)}if("lodging"===s){var n=$('<tr><td><input type="checkbox" class="lodge-request-checkbox cbox"></td><td class="qNeeded">'+t[e].quantityRequested+'</td><td class="reqC">'+t[e].requestComments+"</td><td>"+t[e].fName+" "+t[e].lName+"</td><td>"+t[e].orgName+"</td><td>"+t[e].phone+"</td></tr>");$(".lodge-table").append(n)}if("pets"===s){var c=$('<tr><td><input type="checkbox" class="pets-request-checkbox cbox"></td><td class="qNeeded">'+t[e].quantityRequested+'</td><td class="reqC">'+t[e].requestComments+"</td><td>"+t[e].fName+" "+t[e].lName+"</td><td>"+t[e].orgName+"</td><td>"+t[e].phone+"</td></tr>");$(".pets-table").append(c)}if("transportation"===s){var l=$('<tr><td><input type="checkbox" class="transport-request-checkbox cbox"></td><td class="qNeeded">'+t[e].quantityRequested+'</td><td class="reqC">'+t[e].requestComments+"</td><td>"+t[e].fName+" "+t[e].lName+"</td><td>"+t[e].orgName+"</td><td>"+t[e].phone+"</td></tr>");$(".transport-table").append(l)}if("clothing"===s){var r=$('<tr><td><input type="checkbox" class="clothes-request-checkbox cbox"></td><td class="qNeeded">'+t[e].quantityRequested+'</td><td class="reqC">'+t[e].requestComments+"</td><td>"+t[e].fName+" "+t[e].lName+"</td><td>"+t[e].orgName+"</td><td>"+t[e].phone+"</td></tr>");$(".clothes-table").append(r)}}$(".water-request-checkbox").on("change",function(){var t='<tr class="success"><th colspan="3" class="contResponseH">Quantity to Contribute?</th><th colspan="3" class="contComments">Contribution Comments</tr><tr class="contResponseD"><td colspan="3"><input type="text" class="qc-text water-cont-quantity"></td><td colspan="3"><textarea class=" cc-text water-cont-comments" rows="1"></textarea></td></tr>';$(this).prop("checked")?$(this).closest("tr").after(t):($(this).closest("tr").next().remove(),$(this).closest("tr").next().remove())}),$(".meals-request-checkbox").on("change",function(){var t='<tr class="success"><th colspan="3" class="contResponseH">Quantity to Contribute?</th><th colspan="3" class="contComments">Contribution Comments</tr><tr class="contResponseD"><td colspan="3"><input type="text" class="qc-text meals-cont-quantity"></td><td colspan="3"><textarea class=" cc-text meals-cont-comments" rows="1"></textarea></td></tr>';$(this).prop("checked")?$(this).closest("tr").after(t):($(this).closest("tr").next().remove(),$(this).closest("tr").next().remove())}),$(".pets-request-checkbox").on("change",function(){var t='<tr class="success"><th colspan="3" class="contResponseH">Quantity to Contribute?</th><th colspan="3" class="contComments">Contribution Comments</tr><tr class="contResponseD"><td colspan="3"><input type="text" class=" qc-text pets-cont-quantity"></td><td colspan="3"><textarea class=" cc-text pets-cont-comments" rows="1"></textarea></td></tr>';$(this).prop("checked")?$(this).closest("tr").after(t):($(this).closest("tr").next().remove(),$(this).closest("tr").next().remove())}),$(".lodge-request-checkbox").on("change",function(){var t='<tr class="success"><th colspan="3" class="contResponseH">Quantity to Contribute?</th><th colspan="3" class="contComments">Contribution Comments</tr><tr class="contResponseD"><td colspan="3"><input type="text" class="qc-text lodge-cont-quantity"></td><td colspan="3"><textarea class=" cc-text lodge-cont-comments" rows="1"></textarea></td></tr>';$(this).prop("checked")?$(this).closest("tr").after(t):($(this).closest("tr").next().remove(),$(this).closest("tr").next().remove())}),$(".transport-request-checkbox").on("change",function(){var t='<tr class="success"><th colspan="3" class="contResponseH">Quantity to Contribute?</th><th colspan="3" class="contComments">Contribution Comments</tr><tr class="contResponseD"><td colspan="3"><input type="text" class=" qc-text transport-cont-quantity"></td><td colspan="3"><textarea class=" cc-text transport-cont-comments" rows="1"></textarea></td></tr>';$(this).prop("checked")?$(this).closest("tr").after(t):($(this).closest("tr").next().remove(),$(this).closest("tr").next().remove())}),$(".clothes-request-checkbox").on("change",function(){var t='<tr class="success"><th colspan="3" class="contResponseH">Quantity to Contribute?</th><th colspan="3" class="contComments">Contribution Comments</tr><tr class="contResponseD"><td colspan="3"><input type="text" class=" qc-text clothes-cont-quantity"></td><td colspan="3"><textarea class=" cc-text clothes-cont-comments" rows="1"></textarea></td></tr>';$(this).prop("checked")?$(this).closest("tr").after(t):($(this).closest("tr").next().remove(),$(this).closest("tr").next().remove())})}),$.get("/reliefStatus",function(t){for(requestType in t){console.log(requestType);var e=$('<div class="col-md-2 '+t[requestType].id+'"><div>'+t[requestType].displayName+'</div><div>  <i class="fa '+t[requestType].icon+'"></i><div>Current Requests</div><div class="curReq">'+t[requestType].requests+'</div><div>Quantity Still Needed</div><div class="quanStillNeeded">'+t[requestType].quantity+"</div></div>");$(".status-table").append(e)}console.log(t)}),$("#reqForm").on("submit",function(t){t.preventDefault(),console.log("test");var e=$("#first-name").val(),s=$("#last-name").val(),a=$("#org-name").val(),o=$("#inputEmail1").val(),n=$("#phone-number").val(),c=$("#address").val(),l=$(".water-checkbox").is(":checked"),r=$(".meals-checkbox").is(":checked"),i=$(".lodge-checkbox").is(":checked"),d=$(".pets-checkbox").is(":checked"),u=$(".transport-checkbox").is(":checked"),m=$(".clothes-checkbox").is(":checked"),p=$("#water-quantity").val(),h=$("#water-comments").val(),q=$("#meals-quantity").val(),g=$("#meals-comments").val(),v=+$("#lodge-quantity").val(),x=$("#lodge-comments").val(),y=$("#pets-quantity").val(),b=$("#pets-comments").val(),f=$("#transport-quantity").val(),N=$("#transport-comments").val(),C=$("#clothes-quantity").val(),k=$("#clothes-comments").val();geocoder.geocode({address:c},function(t,R){if(R==google.maps.GeocoderStatus.OK){test(),map.setCenter(t[0].geometry.location);var w="./pics/clothes.png",S=null,T="./pics/pets.png",Q="./pics/transport.png",D="./pics/lodge.png",H="./pics/meals.png",I="./pics/water.png",O="./pics/multiRequest.png",M=S,E=0;test(),m===!0&&C>0&&(M=w,E++),u===!0&&f>0&&(M=Q,E++),i===!0&&v>0&&(M=D,E++),r===!0&&q>0&&(M=H,E++),d===!0&&y>0&&(M=T,E++),l===!0&&p>0&&(M=I,E++),E>1&&(console.log(E),M=O);{new google.maps.Marker({map:map,icon:M,position:t[0].geometry.location})}console.log(t);var F={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()};console.log("this is water",l),console.log("this is meals",r);var G=(+new Date).toString(36);l===!0&&$.post("/aidSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,address:c,lat:F.lat,"long":F.lng,requestType:"water",quantityRequested:p,requestComments:h,groupId:G},function(){var t=$(".water .curReq").text();t=+t+1,$(".water .curReq").text(t);var e=$(".water .quanStillNeeded").text();e=+e+v,$(".water .quanStillNeeded").text(e)}),r===!0&&$.post("/aidSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,address:c,lat:F.lat,"long":F.lng,requestType:"meals",quantityRequested:q,requestComments:g,groupId:G},function(){var t=$(".meals .curReq").text();t=+t+1,$(".meals .curReq").text(t);var e=$(".meals .quanStillNeeded").text();e=+e+v,$(".meals .quanStillNeeded").text(e)}),d===!0&&$.post("/aidSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,address:c,lat:F.lat,"long":F.lng,requestType:"pets",quantityRequested:y,requestComments:b,groupId:G},function(){var t=$(".pet-boarding .curReq").text();t=+t+1,$(".pet-boarding .curReq").text(t);var e=$(".pet-boarding .quanStillNeeded").text();e=+e+v,$(".pet-boarding .quanStillNeeded").text(e)}),i===!0&&$.post("/aidSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,address:c,lat:F.lat,"long":F.lng,requestType:"lodging",quantityRequested:v,requestComments:x,groupId:G},function(){var t=$(".lodging .curReq").text();t=+t+1,$(".lodging .curReq").text(t);var e=$(".lodging .quanStillNeeded").text();e=+e+v,$(".lodging .quanStillNeeded").text(e)}),u===!0&&$.post("/aidSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,address:c,lat:F.lat,"long":F.lng,requestType:"transportation",quantityRequested:f,requestComments:N,groupId:G},function(){var t=$(".transportation .curReq").text();t=+t+1,$(".transportation .curReq").text(t);var e=$(".transportation .quanStillNeeded").text();e=+e+v,$(".transportation .quanStillNeeded").text(e)}),m===!0&&$.post("/aidSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,address:c,lat:F.lat,"long":F.lng,requestType:"clothing",quantityRequested:C,requestComments:k,groupId:G},function(){var t=$(".clothing .curReq").text();t=+t+1,$(".clothing .curReq").text(t);var e=$(".clothing .quanStillNeeded").text();e=+e+v,$(".clothing .quanStillNeeded").text(e)}),$("#myModal").fadeOut(),$(".modal-backdrop").fadeOut()}else alert("Geocode was not successful for the following reason: "+R)})}),$(".checkbox label input").on("change",function(){$(this).prop("checked")===!0?$(this).parent().siblings("input, textarea, table").show():$(this).parent().siblings("input, textarea, table").hide()}),$("#contForm").on("submit",function(t){t.preventDefault(),console.log("test cont");var e=$("#first-name-cont").val(),s=$("#last-name-cont").val(),a=$("#org-name-cont").val(),o=$("#inputEmail1-cont").val(),n=$("#phone-number-cont").val(),c=$("#water-quantity-cont").val(),l=$("#water-comments-cont").val(),r=$("#meals-quantity-cont").val(),i=$("#meals-comments-cont").val(),d=$("#lodge-quantity-cont").val(),u=$("#lodge-comments-cont").val(),m=$("#pets-quantity-cont").val(),p=$("#pets-comments-cont").val(),h=$("#transport-quantity-cont").val(),q=$("#transport-comments-cont").val(),g=$("#clothes-quantity-cont").val(),v=$("#clothes-comments-cont").val();$.post("/contSubmit",{fName:e,lName:s,orgName:a,email:o,phone:n,waterQuantity:c,waterComments:l,mealsQuantity:r,mealsComments:i,lodgeQuantity:d,lodgeComments:u,petsQuantity:m,petsComments:p,transportQuantity:h,transportComments:q,clothesQuantity:g,clothesComments:v},function(t){console.log("data",t)}),$("#myModal1").fadeOut(),$(".modal-backdrop").fadeOut()}),$("#metricsBtn").one("click",function(){new Morris.Line({element:"myfirstchart",data:[{year:"2008",value:20},{year:"2009",value:10},{year:"2010",value:5},{year:"2011",value:5},{year:"2012",value:20}],xkey:"year",ykeys:["value"],labels:["Value"]})})});